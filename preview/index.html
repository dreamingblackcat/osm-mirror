<!DOCTYPE html>
<html>
<head>
    <title>OpenStreetMap Mirror</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.css" />
    <link rel="stylesheet" href="vendor/Leaflet.layerscontrol-minimap/control.layers.minimap.css" />
    <style type='text/css'>
        #map {
            position: absolute;
            top:0;
            left: 0;
            right: 0;
            bottom:0;
        }
        .logo {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <a class="logo" href="http://makina-corpus.com"><img width="100" src="http://depot.makina-corpus.org/public/logo.gif"/></a>

    <script src="conf.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
    <script src="vendor/Leaflet.Sync/L.Map.Sync.js"></script>
    <script src="vendor/Leaflet.layerscontrol-minimap/L.Control.Layers.Minimap.js"></script>

    <script>
        var bounds = L.latLngBounds([SETTINGS.extent[1], SETTINGS.extent[0]],
                                    [SETTINGS.extent[3], SETTINGS.extent[2]]);

        var map = L.map('map', {maxBounds: bounds})
                   .fitBounds(bounds);

        var options = {
            attribution: '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
        };

        var baselayers = {};
        for (var k in SETTINGS.layers) {
            baselayers[k] = L.tileLayer(SETTINGS.layers[k], options)
        }
        baselayers['OSM'].addTo(map);

        L.control.layers.minimap(baselayers, [], {
            position: 'bottomright',
            collapsed: false
        }).addTo(map);
    </script>
</body>
</html>
